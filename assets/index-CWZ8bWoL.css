:root{--light-bg-primary: #ffffff;--light-bg-secondary: #f8f9fa;--light-text-primary: #1a1a1a;--light-text-secondary: #666666;--light-text-tertiary: #999999;--light-border: #e0e0e0;--light-shadow: rgba(0, 0, 0, .1);--dark-bg-primary: #1a1a1a;--dark-bg-secondary: #2d2d2d;--dark-text-primary: #f5f5f5;--dark-text-secondary: #b0b0b0;--dark-text-tertiary: #a0a0a0;--dark-border: #404040;--dark-shadow: rgba(0, 0, 0, .5);--accent-primary: #006d5d;--accent-secondary: #008c7a;--accent-hover: #005548;--accent-danger: #ff6b6b;--accent-success: #51cf66;--accent-warning: #ffa07a;--token-color-1: #ff6b6b;--token-color-2: #4ecdc4;--token-color-3: #45b7d1;--token-color-4: #ffa07a;--token-color-5: #98d8c8;--viz-arrow-color: #cccccc;--viz-stroke-color: #555555;--viz-text-color: #333333;--viz-muted-color: #666666;--viz-neutral-color: #cccccc;--viz-token-text: #1a1a1a;--viz-transformer-bg: #f3f4f6;--viz-transformer-border: #d9d9e3;--viz-stage-highlight: rgba(0, 0, 0, .08);--viz-stage-line: #999999;--embed-negative: #3498db;--embed-neutral: #ecf0f1;--embed-positive: #e74c3c;--prob-low: #f3e5f5;--prob-high: #6a1b9a;--dist-default: #bfbfbf;--dist-selected: #8b0000;--layout-token-spacing: 140px;--layout-margin: 20px;--layout-block-padding: 30px;--layout-token-y: 80px;--layout-embedding-y: 200px}body[data-theme=light]{--bg-primary: var(--light-bg-primary);--bg-secondary: var(--light-bg-secondary);--text-primary: var(--light-text-primary);--text-secondary: var(--light-text-secondary);--text-tertiary: var(--light-text-tertiary);--border-color: var(--light-border);--shadow-color: var(--light-shadow)}body[data-theme=dark]{--bg-primary: var(--dark-bg-primary);--bg-secondary: var(--dark-bg-secondary);--text-primary: var(--dark-text-primary);--text-secondary: var(--dark-text-secondary);--text-tertiary: var(--dark-text-tertiary);--border-color: var(--dark-border);--shadow-color: var(--dark-shadow);--viz-token-text: #f5f5f5;--viz-transformer-bg: #2a2a2a;--viz-transformer-border: #404040;--viz-stage-highlight: rgba(255, 255, 255, .08);--viz-stage-line: #a0a0a0;--viz-text-color: #d0d0d0;--viz-muted-color: #a0a0a0}.arrow{stroke:#ccc;stroke-width:1.5;fill:none;marker-end:url(#arrowhead)}.app-container{display:flex;flex-direction:column;padding:0;margin:0}.floating-top-section{position:fixed;top:0;left:0;right:0;z-index:100;background:var(--bg-primary);padding:.5rem 10px;box-shadow:0 2px 12px var(--shadow-color);transition:box-shadow .3s ease}.floating-top-content{display:flex;align-items:center;justify-content:center;gap:1.25rem;width:100%;margin:0;position:relative}.top-panel-input{flex:1 1 auto;min-width:0;max-width:min(800px,calc(100vw - 200px))}.top-panel-input .input-section-minimal{width:100%}.floating-bottom-section{position:fixed;bottom:0;left:0;right:0;z-index:100;background:var(--bg-primary);padding:1rem 2rem;box-shadow:0 -2px 12px var(--shadow-color);transition:box-shadow .3s ease}.header-controls{position:absolute;top:50%;right:10px;transform:translateY(-50%);display:flex;align-items:center;justify-content:flex-end;gap:.5rem;min-width:fit-content}.header-controls-list{display:flex;align-items:center;gap:.5rem}.header-controls-list>*{flex:0 0 auto}.header-controls .language-selector{display:flex}.hamburger-toggle{display:none;width:42px;height:42px;border-radius:50%;border:none;background:transparent;cursor:pointer;font-size:1.35rem;color:var(--text-primary);align-items:center;justify-content:center;transition:opacity .2s ease}.hamburger-toggle:hover{opacity:.8}.icon-button-minimal{background:transparent;border:none;padding:.5rem;cursor:pointer;font-size:1.5rem;transition:opacity .2s ease;display:flex;align-items:center;justify-content:center}.icon-button-minimal:hover{opacity:.7}.menu-item-with-label{background:transparent;border:none;padding:.5rem;cursor:pointer;font-size:1.5rem;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:opacity .2s ease;text-align:left}.menu-item-with-label:hover{opacity:.7}.menu-item-with-label .menu-label{display:none;font-size:.95rem;color:var(--text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;white-space:nowrap;pointer-events:none}.menu-item-with-label .theme-icon{font-size:1.5rem;display:flex;align-items:center;justify-content:center;pointer-events:none}.language-menu-wrapper{position:relative;display:flex;align-items:center;gap:.75rem;padding:.5rem;background:transparent;border:none}.language-menu-wrapper .menu-label{display:none;font-size:.95rem;color:var(--text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;white-space:nowrap;pointer-events:none}.language-menu-wrapper .language-selector{pointer-events:auto}.app-main{width:100%;margin:0 auto;padding-top:5rem;padding-left:2rem;padding-right:2rem}.loading-container,.error-container{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:2rem;text-align:center}.loading-spinner{width:50px;height:50px;border:4px solid var(--border-color);border-top-color:var(--accent-primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.error-container h2{color:var(--error-color, #e74c3c);margin-bottom:1rem}.error-container button{margin-top:1rem;padding:.75rem 1.5rem;background:var(--accent-primary);color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1rem;transition:all .2s ease}.error-container button:hover{background:var(--accent-hover)}.input-section-minimal{margin-bottom:0;width:100%}.prompt-container{margin-bottom:0;width:100%;max-width:100%;margin-left:0;margin-right:0}.chat-input-wrapper{margin-bottom:0}.chat-input-box{position:relative;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:16px;padding:6px 10px;box-shadow:0 2px 6px #0000000a;transition:none;display:flex;align-items:center;gap:8px;cursor:pointer;width:100%;overflow:visible;flex-wrap:nowrap}.prompt-dropdown{position:static;flex-shrink:0}.dropdown-toggle{width:28px;height:28px;border-radius:50%;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--text-tertiary);transition:all .2s ease;padding:0;opacity:.6}.dropdown-toggle:hover{opacity:1;color:var(--text-secondary)}.dropdown-menu{position:absolute;top:calc(100% + 6px);left:0;right:0;width:100%;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 4px 16px #0000001a;z-index:1000;overflow:hidden}.dropdown-item{width:100%;padding:8px 12px;text-align:left;background:transparent;border:none;color:var(--text-primary);cursor:pointer;transition:background .2s ease;font-size:.9rem;line-height:1.3;border-bottom:1px solid var(--border-color)}.dropdown-item-content{display:flex;align-items:center;gap:12px;min-height:20px}.dropdown-item-prompt{flex:1;min-width:0}.dropdown-item-meta{font-size:.75rem;color:var(--text-secondary);opacity:.7;white-space:nowrap;display:flex;align-items:center;gap:6px}.dropdown-item.active .dropdown-item-meta{color:#fffc;opacity:1}.model-info{display:flex;align-items:center;gap:4px}.model-logo{width:16px;height:16px;object-fit:contain;display:block}.model-size,.model-id,.temperature-display{font-family:Monaco,Menlo,Courier New,monospace;font-size:.9rem}.meta-separator{opacity:.5}.dropdown-item-model{font-size:.75rem;color:var(--text-secondary);opacity:.7;white-space:nowrap;font-family:Monaco,Menlo,Courier New,monospace}.dropdown-item.active .dropdown-item-model{color:#fffc;opacity:1}.dropdown-item:last-child{border-bottom:none}.dropdown-item:hover{background:var(--bg-secondary)}.dropdown-item.active{background:var(--accent-primary);color:#fff}.dropdown-item.active:hover{background:var(--accent-hover)}.prompt-main{display:flex;align-items:center;gap:8px;flex:1 1 auto;min-width:0}.prompt-text-chat{flex:1 1 auto;font-size:1rem;line-height:1.4;color:var(--text-primary);font-weight:400;min-height:22px;padding-right:8px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.prompt-text-chat.has-tokens{text-overflow:clip;white-space:normal}.prompt-actions{display:flex;align-items:center;gap:6px;flex:0 0 auto;margin-left:4px;position:relative}.prompt-cursor{display:inline-block;margin-left:2px;animation:blink 1s step-end infinite;color:var(--text-primary)}.btn-play{position:static;--btn-play-size: 40px;width:var(--btn-play-size)!important;height:var(--btn-play-size)!important;min-width:var(--btn-play-size)!important;min-height:var(--btn-play-size)!important;max-width:var(--btn-play-size)!important;max-height:var(--btn-play-size)!important;border-radius:50%!important;background:var(--accent-primary);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#fff;transition:background .2s ease;padding:0;flex:0 0 auto;flex-shrink:0;aspect-ratio:1 / 1}.btn-play:hover:not(:disabled){background:var(--accent-hover);filter:brightness(.9)}.btn-play:disabled{opacity:.5;cursor:not-allowed;background:var(--text-tertiary)}.btn-play svg{margin-left:1px;width:12px;height:12px}.btn-settings{width:40px;height:40px;border-radius:50%;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--text-tertiary);transition:color .2s ease,opacity .2s ease;padding:0;flex:0 0 auto;margin-right:4px;opacity:1;font-size:24px;line-height:1}.btn-action-toggle{display:none;width:32px;height:32px;border-radius:50%;border:1px solid transparent;background:transparent;color:var(--text-tertiary);cursor:pointer;align-items:center;justify-content:center;transition:color .2s ease,background .2s ease,border-color .2s ease;flex:0 0 auto;padding:0}.btn-action-toggle:hover,.btn-action-toggle.open{color:var(--text-primary);border-color:var(--border-color);background:#00000005}.prompt-actions-menu{position:absolute;right:0;top:calc(100% + 6px);background:var(--bg-primary);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 4px 16px #0000001a;padding:6px;display:flex;flex-direction:column;gap:4px;min-width:150px;z-index:1200}.prompt-actions-item{display:flex;align-items:center;gap:8px;width:100%;border:none;background:transparent;color:var(--text-primary);cursor:pointer;padding:6px 8px;border-radius:8px;transition:background .2s ease}.prompt-actions-item:hover{background:var(--bg-secondary)}.btn-settings:hover{color:var(--text-primary);opacity:1}.btn-settings svg{display:block}.settings-popover{position:absolute;right:8px;top:calc(100% + 6px);background:var(--bg-primary);border:1px solid var(--border-color);border-radius:10px;box-shadow:0 4px 16px #0000001a;z-index:1100;padding:8px 10px;min-width:220px}.settings-section+.settings-section{margin-top:8px;padding-top:8px;border-top:1px dashed var(--border-color)}.settings-label{font-size:.7rem;color:var(--text-tertiary);margin-bottom:6px;text-transform:uppercase;letter-spacing:.04em}.model-options{display:flex;gap:6px}.model-option{display:inline-flex;align-items:center;gap:6px;padding:6px 8px;border-radius:8px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary);cursor:pointer}.model-option.selected{outline:2px solid var(--accent-primary);background:#4ecdc414}.temp-options{display:flex;gap:6px}.temp-option{display:inline-flex;align-items:center;gap:6px;padding:6px 8px;border-radius:8px;border:1px solid var(--border-color);background:var(--bg-secondary);cursor:pointer}.temp-option.selected{outline:2px solid var(--accent-primary);background:#4ecdc414}.temp-emoji{font-size:18px;line-height:1}.temp-value{font-family:Monaco,Menlo,Courier New,monospace;font-size:.9rem}.prompt-display-minimal{margin-bottom:3rem;text-align:center}.prompt-text-large{font-size:2rem;line-height:1.4;color:var(--text-primary);margin-bottom:2rem;font-weight:300;max-width:800px;margin-left:auto;margin-right:auto}.example-selector-bar{display:none}.btn-minimal{padding:0;border:none;background:transparent;font-size:.9rem;color:var(--text-secondary);cursor:pointer;transition:opacity .2s ease;font-weight:400}.btn-minimal:hover:not(:disabled){opacity:.7}.btn-minimal:disabled{opacity:.3;cursor:not-allowed}.visualization-section{--labels-width: 420px;background:transparent;padding:0;min-height:auto;position:relative;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;padding-top:0rem;width:100%;overflow-x:visible;overflow-y:visible}.visualization-section.expanded{justify-content:flex-start}.viz-scroll{width:calc(100% - var(--labels-width));overflow-x:auto;overflow-y:visible;display:flex;flex-direction:column-reverse;position:relative}.viz-scroll>svg{transform:scaleY(1)}.viz-labels{position:sticky;top:0;right:0;flex:0 0 var(--labels-width);width:var(--labels-width);height:100%;display:flex;align-items:flex-start;justify-content:flex-start;pointer-events:none}.visualization-labels-canvas{width:100%;display:block}.collapse-toggle{position:absolute;width:32px;height:32px;padding:0;background:#f6f5f5;border:none;border-radius:50%;color:var(--text-tertiary);cursor:pointer;transition:background .15s ease,color .15s ease,transform .1s ease;z-index:5;display:inline-flex;align-items:center;justify-content:center}.collapse-toggle:hover{background:#d0d0d0;color:var(--text-secondary)}.collapse-toggle:active{transform:scale(.96)}.viz-scroll::-webkit-scrollbar{height:10px}.viz-scroll::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}.viz-scroll::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px;transition:background .2s ease}.viz-scroll::-webkit-scrollbar-thumb:hover{background:var(--text-tertiary)}.visualization-canvas{background:transparent;display:block}@media (max-width: 1200px){.floating-top-content{gap:1rem}.top-panel-input{max-width:min(700px,calc(100vw - 200px))}.chat-input-box{gap:6px}.prompt-text-chat{font-size:.95rem}}@media (max-width: 900px){.top-panel-input{max-width:min(600px,calc(100vw - 200px))}}@media (max-width: 1150px){.floating-top-content{gap:.5rem;justify-content:space-between}.header-controls{position:static;transform:none}.header-controls-list{display:none}.header-controls.open .header-controls-list{display:flex;flex-direction:column;align-items:stretch;position:absolute;top:calc(100% + .5rem);right:0;padding:.75rem;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 10px 24px #0000002e;min-width:200px;gap:.75rem;z-index:101}.header-controls.open .header-controls-list>*{width:100%;justify-content:flex-start}.header-controls.open .menu-item-with-label{width:100%;justify-content:flex-start;padding:.75rem;border-radius:6px;transition:background-color .15s ease,opacity .2s ease}.header-controls.open .menu-item-with-label:hover{background:var(--bg-hover, rgba(0, 0, 0, .05));opacity:1}.header-controls.open .menu-item-with-label .menu-label{display:block}.header-controls.open .language-menu-wrapper{width:100%;justify-content:flex-start;border-radius:6px;transition:background-color .15s ease;cursor:pointer}.header-controls.open .language-menu-wrapper:hover{background:var(--bg-hover, rgba(0, 0, 0, .05))}.header-controls.open .language-menu-wrapper .menu-label{display:block}.header-controls.open .language-selector{width:auto;pointer-events:auto}.header-controls.open .language-selector .icon-button-minimal,.header-controls.open .language-dropdown{pointer-events:auto}.hamburger-toggle{display:inline-flex}.top-panel-input{flex:1 1 auto;max-width:none}}@media (max-width: 768px){.floating-top-section{padding:.5rem 1rem .75rem}.floating-bottom-section{padding:.75rem 1rem}.app-main{padding:7rem 1rem 0rem}.prompt-text-large{font-size:1.5rem}.action-buttons-minimal{flex-direction:column;gap:1rem}.prompt-container{width:100%;padding:0 .25rem}.prompt-text-chat{font-size:.9rem}.chat-input-box{padding:10px 8px;gap:6px}.dropdown-menu{min-width:300px;max-width:calc(100vw - 2rem)}.btn-play{--btn-play-size: 36px;width:var(--btn-play-size)!important;height:var(--btn-play-size)!important;min-width:var(--btn-play-size)!important;min-height:var(--btn-play-size)!important;max-width:var(--btn-play-size)!important;max-height:var(--btn-play-size)!important}.btn-play svg{width:13px;height:13px}.btn-settings{width:36px;height:36px;font-size:20px}}@media (max-width: 640px){.prompt-container{max-width:100%;padding:0 .5rem}.chat-input-box{padding:8px 6px;gap:4px}.prompt-text-chat{font-size:.85rem;padding-right:4px}.btn-play{--btn-play-size: 32px;width:var(--btn-play-size)!important;height:var(--btn-play-size)!important;min-width:var(--btn-play-size)!important;min-height:var(--btn-play-size)!important;max-width:var(--btn-play-size)!important;max-height:var(--btn-play-size)!important}.btn-play svg{width:12px;height:12px}.btn-settings{width:32px;height:32px;margin-right:2px;font-size:18px}.dropdown-toggle{width:24px;height:24px}}@media (max-width: 480px){.prompt-container{padding:0 .25rem}.prompt-text-chat{font-size:.8rem}.chat-input-box{padding:6px 4px;gap:3px}.btn-play{--btn-play-size: 28px;width:var(--btn-play-size)!important;height:var(--btn-play-size)!important;min-width:var(--btn-play-size)!important;min-height:var(--btn-play-size)!important;max-width:var(--btn-play-size)!important;max-height:var(--btn-play-size)!important}.btn-play svg{width:10px;height:10px}.btn-settings{width:28px;height:28px;margin-right:1px;font-size:16px}.dropdown-toggle{width:20px;height:20px}.dropdown-menu{left:-6px;right:-6px;width:calc(100% + 12px)}.settings-popover{right:auto;left:50%;transform:translate(-50%);min-width:200px}}@media (max-width: 420px){.prompt-container{padding:0 .25rem}.btn-play{--btn-play-size: 24px;width:var(--btn-play-size)!important;height:var(--btn-play-size)!important;min-width:var(--btn-play-size)!important;min-height:var(--btn-play-size)!important;max-width:var(--btn-play-size)!important;max-height:var(--btn-play-size)!important}.btn-play svg{width:9px;height:9px}}@media (max-width: 1200px) and (min-width: 769px){.floating-top-section,.floating-bottom-section,.app-main{padding-left:1.5rem;padding-right:1.5rem}}@media (max-width: 768px){.visualization-section{min-height:600px}.visualization-canvas{min-height:600px;height:auto}}html,body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--bg-primary);color:var(--text-primary);overflow-x:hidden}#root{width:100%}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);line-height:1.6;min-height:100vh;padding:2rem}.container{max-width:1400px;margin:0 auto;padding:0}.top-right-controls{position:fixed;top:2rem;right:2rem;display:flex;gap:.5rem;align-items:center;z-index:1000}.control-btn-icon{width:44px;height:44px;padding:0;border:none;border-radius:50%;background-color:transparent;color:var(--text-primary);cursor:pointer;font-size:1.5rem;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.control-btn-icon:hover{background-color:var(--bg-secondary);transform:scale(1.1)}.control-btn-icon:active{transform:scale(.95)}.control-btn-icon .flag-icon,.control-btn-icon .theme-icon,.control-btn-icon .speed-icon{font-size:1.5rem;line-height:1}.control-btn-icon svg{width:24px;height:24px}h2{font-size:1.5rem;margin-bottom:1.5rem;color:var(--text-primary);font-weight:600}.input-section{margin-bottom:3rem;margin-top:6rem}.input-controls{display:flex;gap:1rem;align-items:center}.prompt-input{flex:1;padding:1rem 1.5rem;font-size:1.125rem;border:2px solid var(--border-color);border-radius:12px;background-color:var(--bg-primary);color:var(--text-primary);transition:all .2s ease;font-family:Inter,sans-serif}.prompt-input:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #4ecdc41a}.btn-play{width:40px;height:40px;padding:0;border:none;border-radius:50%;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));color:#fff;cursor:pointer;transition:background .2s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #006d5d4d}.btn-play:hover:not(:disabled){background:linear-gradient(135deg,var(--accent-hover),var(--accent-secondary));filter:brightness(.9)}.btn-play:disabled{opacity:.5;cursor:not-allowed}.btn-reset{width:48px;height:48px;padding:0;border:2px solid var(--border-color);border-radius:50%;background-color:transparent;color:var(--text-primary);cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.btn-reset:hover:not(:disabled){background-color:var(--bg-secondary);border-color:var(--text-primary);transform:rotate(-180deg)}.btn-reset:disabled{opacity:.5;cursor:not-allowed}.playback-controls{margin-top:1rem;display:flex;gap:.5rem}.btn-small{padding:.5rem 1rem;font-size:.875rem;border:1px solid var(--border-color);border-radius:6px;background-color:transparent;color:var(--text-primary);cursor:pointer;transition:all .2s ease}.btn-small:hover:not(:disabled){background-color:var(--bg-secondary)}.btn-small:disabled{opacity:.5;cursor:not-allowed}.tokenization-section{margin-bottom:3rem}.token-display{display:flex;flex-wrap:wrap;gap:.75rem;padding:1.5rem;background-color:transparent;border:2px dashed var(--border-color);border-radius:12px;min-height:80px;align-items:center}.token{padding:.625rem 1rem;border-radius:8px;font-family:Courier New,monospace;font-weight:600;font-size:.95rem;color:#fff;box-shadow:0 2px 8px #00000026}.visualization-section{margin-bottom:3rem;display:flex;justify-content:flex-start;align-items:flex-start;width:100%}.visualization-canvas{width:100%;min-width:100%;background-color:transparent;border-radius:12px;display:block;margin:0}.spinner{border:3px solid var(--border-color);border-top:3px solid var(--accent-primary);border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:2rem auto}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){body{padding:1rem}.top-right-controls{position:static;margin-bottom:2rem;flex-wrap:wrap}.input-controls{flex-direction:column;align-items:stretch}.btn-play,.btn-reset{width:100%;border-radius:12px}}.tokenized-text{display:inline;word-break:break-word}.token-with-underline{display:inline-block;padding-bottom:0;border-bottom-width:6px;border-bottom-style:solid;border-radius:2px;margin-right:4px;line-height:1.6}@media (max-width: 640px){.token-with-underline{border-bottom-width:4px;margin-right:2px}}@media (max-width: 480px){.token-with-underline{border-bottom-width:3px;margin-right:1px}}.generated-answer-section{margin:0;display:flex;justify-content:center}.generated-answer-container{width:100%;max-width:800px}.generated-answer-label{font-size:.875rem;color:var(--text-tertiary);margin-bottom:.5rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em}.generated-answer-text{min-height:28px;font-size:1.125rem;line-height:1.6;white-space:pre-wrap;color:var(--text-primary);padding:0;background-color:transparent;border:none;font-weight:400}.generated-answer-text .token-with-underline{display:inline-block;padding-bottom:4px;border-bottom-width:6px;border-bottom-style:solid;border-radius:2px;margin-right:1px;line-height:1.6}.answer-caret{display:inline-block;margin-left:2px;animation:blink 1s step-end infinite;color:var(--text-primary)}@keyframes blink{0%,50%{opacity:1}51%,to{opacity:0}}.token-id{font-family:Consolas,Courier New,monospace;font-size:20px;fill:var(--text-primary);text-anchor:middle;font-weight:600}.arrow{stroke:#ccc;stroke-width:1.5;fill:none;marker-end:url(#arrowhead)}.arrow-animated{stroke-dasharray:5,5;animation:dash 1s linear infinite}@keyframes dash{to{stroke-dashoffset:-10}}.embedding-square{stroke:var(--border-color);stroke-width:1;transition:all .3s ease}.embedding-square:hover{stroke:var(--accent-primary);stroke-width:2}.embedding-value{font-family:Consolas,Courier New,monospace;font-size:14px;fill:var(--text-primary);text-anchor:middle}.transformer-block{fill:transparent;stroke:#ccc;stroke-width:1.5;stroke-dasharray:4,4;rx:8}.transformer-label{font-size:22px;font-weight:600;fill:var(--text-primary);text-anchor:middle}.layer-label{font-size:16px;fill:var(--text-secondary);text-anchor:middle}.attention-line{stroke:var(--accent-primary);stroke-width:1;opacity:.3;fill:none}.attention-line.active{opacity:.8;stroke-width:2}.feedforward-line{stroke:var(--accent-secondary);stroke-width:2;opacity:.5;fill:none}.feedforward-line.active{opacity:1;stroke-width:3}.distribution-bar{fill:#bfbfbf;transition:all .3s ease;stroke:#0000000f;stroke-width:1px;shape-rendering:geometricPrecision}.distribution-bar:hover{opacity:.85}.distribution-bar.selected{fill:#8b0000}.distribution-label{font-size:16px;fill:var(--text-primary)}.distribution-token{font-family:Consolas,Courier New,monospace;font-weight:600}.distribution-prob{font-size:14px;fill:var(--text-secondary)}.section-header{font-size:24px;font-weight:600;fill:var(--text-primary)}.embedding-gradient-low{stop-color:#ff6b6b}.embedding-gradient-mid{stop-color:#ffa07a}.embedding-gradient-high{stop-color:#51cf66}.fade-in{opacity:0}.fade-in.visible{opacity:1}.phase-hidden{opacity:0!important;transform:translateY(6px);transform-box:fill-box;transform-origin:center;transition:opacity .22s ease,transform .22s ease;pointer-events:none}.phase-visible{opacity:1!important;transform:translateY(0);transition:opacity .26s ease,transform .26s ease}.pulse{animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,to{opacity:.5}50%{opacity:1}}.vector-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:2px}.viz-tooltip{position:absolute;padding:8px 12px;background-color:var(--bg-primary);border:1px solid var(--border-color);border-radius:4px;font-size:12px;pointer-events:none;opacity:0;transition:opacity .2s ease;box-shadow:0 2px 8px var(--shadow-color);z-index:1000}.viz-tooltip.visible{opacity:1}.stage-label{transition:opacity .3s ease}.stage-label.active rect{fill:var(--viz-stage-highlight, rgba(0, 0, 0, .08))}.stage-label-text{font-size:12px;font-weight:500;fill:var(--text-tertiary, #999)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:2000}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.modal-content{background:var(--bg-primary);border-radius:12px;box-shadow:0 8px 32px #0003;max-width:500px;width:90%;max-height:80vh;overflow:hidden;display:flex;flex-direction:column}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid var(--border-color)}.modal-header h2{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-primary)}.modal-close-button{background:transparent;border:none;font-size:1.25rem;color:var(--text-secondary);cursor:pointer;padding:.25rem .5rem;transition:color .2s ease;line-height:1}.modal-close-button:hover{color:var(--text-primary)}.modal-body{padding:1.25rem 1.5rem;overflow-y:auto}.shortcuts-list{display:flex;flex-direction:column;gap:.1rem}.shortcut-item{display:flex;align-items:center;gap:1.25rem;padding:.5rem 0}.shortcut-keys{min-width:100px;display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.keyboard-key{display:inline-block;padding:.25rem .625rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:5px;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:.8125rem;font-weight:600;color:var(--text-primary);box-shadow:0 1px 0 var(--border-color),0 1px 3px #0000001a;text-align:center;min-width:1.75rem;line-height:1.2;transition:all .2s ease}.key-separator{color:var(--text-tertiary);font-weight:500;margin:0 .25rem}.key-or{color:var(--text-tertiary);font-weight:400;font-style:italic;margin:0 .5rem;font-size:.875rem}.shortcut-description{flex:1;color:var(--text-secondary);font-size:.875rem;line-height:1.4}@media (max-width: 768px){.modal-content{width:95%;max-height:90vh}.modal-header{padding:1rem 1.5rem}.modal-header h2{font-size:1.25rem}.modal-body{padding:1.5rem}.shortcut-item{flex-direction:column;align-items:flex-start;gap:.75rem}.shortcut-keys{min-width:auto}}.language-selector,.language-button{position:relative}.language-flag{font-size:1.5rem;line-height:1.5;display:flex;align-items:center;justify-content:center}.language-dropdown{position:absolute;top:calc(100% + .5rem);right:0;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #00000026;min-width:180px;padding:.5rem;z-index:1001}.language-option{display:flex;align-items:center;gap:.75rem;width:100%;padding:.625rem .75rem;background:transparent;border:none;border-radius:6px;cursor:pointer;font-size:.95rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:var(--text-primary);transition:background-color .15s ease;text-align:left}.language-option:hover{background:var(--bg-hover)}.language-option.active{background:var(--bg-active);font-weight:500}.language-option .language-flag{font-size:1.25rem;flex-shrink:0}.language-option .language-name{flex:1}.language-option .language-checkmark{color:var(--accent-color);font-weight:700;font-size:1.1rem;flex-shrink:0}:root{--bg-hover: rgba(0, 0, 0, .05);--bg-active: rgba(0, 0, 0, .08);--accent-color: #007e66}[data-theme=dark]{--bg-hover: rgba(255, 255, 255, .08);--bg-active: rgba(255, 255, 255, .12);--accent-color: #10b981}@media (max-width: 768px){.language-dropdown{min-width:160px}.language-option{padding:.5rem .625rem;font-size:.9rem}}
